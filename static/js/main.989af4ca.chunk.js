(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{16:function(e,n,t){},17:function(e,n,t){},20:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(10),i=t.n(c),o=(t(16),t(5)),u=t(6),l=t(3),s=t(8),h=t(7),f=(t.p,t(17),t(22)),d=(t(18),t(1)),b=new OfflineAudioContext(1,1764e3,44100),j=null,v=null;function p(e){b.decodeAudioData(e,(function(e){j=e;!function(e){var n=b.createBufferSource();n.buffer=e;var t=b.createChannelSplitter(2);n.connect(t);var a=b.createChannelMerger(1);t.connect(a,1,0),t.connect(a,0,0),a.connect(b.destination),b.startRendering().then((function(e){j=e})).catch((function(e){console.log("Rendering failed: "+e)}))}(e)}),(function(e){console.log("Error decoding file",e)}))}var O=function(e){Object(s.a)(t,e);var n=Object(h.a)(t);function t(e){var a;return Object(o.a)(this,t),(a=n.call(this,e)).state={value:""},a.handleChange=a.handleChange.bind(Object(l.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(l.a)(a)),a}return Object(u.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.files[0]})}},{key:"handleSubmit",value:function(e){var n=new FileReader;n.onload=function(e){p(this.result)},n.readAsArrayBuffer(this.state.value),e.preventDefault()}},{key:"render",value:function(){return Object(d.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(d.jsxs)("label",{children:["Load file:",Object(d.jsx)("input",{type:"file",accept:"audio",onChange:this.handleChange})]}),Object(d.jsx)("input",{type:"submit",value:"Load",variant:"primary"})]})}}]),t}(r.a.Component),m=function(e){Object(s.a)(t,e);var n=Object(h.a)(t);function t(){return Object(o.a)(this,t),n.apply(this,arguments)}return Object(u.a)(t,[{key:"handlePlay",value:function(){!function(){if(j){var e=new AudioContext;(v=e.createBufferSource()).buffer=j,v.loop=!1,v.connect(e.destination),v.start(0)}}()}},{key:"handleStop",value:function(){v&&v.stop(0)}},{key:"handlePCM",value:function(){for(var e=j.getChannelData(0),n=new Int16Array(e.length),t=0;t<e.length;t++){var a=Math.max(-1,Math.min(1,e[t]));n[t]=a<0?32768*a:32767*a}alert(n)}},{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{children:[Object(d.jsx)(f.a,{variant:"primary",onClick:function(){return e.handlePlay()},children:"Play"}),Object(d.jsx)(f.a,{variant:"primary",onClick:function(){return e.handleStop()},children:"Stop"}),Object(d.jsx)(f.a,{variant:"primary",onClick:function(){return e.handlePCM()},children:"PCM"})]})}}]),t}(r.a.Component),y=function(e){Object(s.a)(t,e);var n=Object(h.a)(t);function t(){return Object(o.a)(this,t),n.apply(this,arguments)}return Object(u.a)(t,[{key:"handleTest",value:function(){navigator.usb.requestDevice({filters:[]}).then((function(e){alert(e.productName),alert(e.manufacturerName)})).catch((function(e){console.error(e)})),navigator.usb.getDevices().then((function(e){alert("Total devices: "+e.length),e.forEach((function(e){alert("Product name: "+e.productName+", serial number "+e.serialNumber)}))}))}},{key:"render",value:function(){var e=this;return Object(d.jsx)("div",{children:Object(d.jsx)(f.a,{variant:"primary",onClick:function(){return e.handleTest()},children:"Test"})})}}]),t}(r.a.Component);var g=function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(O,{}),Object(d.jsx)(m,{}),Object(d.jsx)(y,{})]})},C=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,23)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(g,{})}),document.getElementById("root")),C()}},[[20,1,2]]]);
//# sourceMappingURL=main.989af4ca.chunk.js.map